---
id: cu2
name: CU2 - Contamos Contigo
config:
  assistant_id: fd3e711e-767d-4c31-969b-490f4534ea5b

entities:
  tipo_dieta:
    Dieta ovolacteovegetariana:
      - ovolacteovegetariano
      - ovolacteo
      - huevos y leche pero no carne
      - vegetariano pero con huevos y leche
    Dieta vegana:
      - vegana
      - veggie
      - vegano puro y duro
      - del animal nada de nada
    no consumo carne:
      - no consumo carne
      - no como carne
      - la carne no me mola
      - la carne me da asco
      - la carne me causa indigestión
    No, mi dieta no tiene ninguna particularidad:
      - nada
      - ninguna
      - no
      - soy normalito del montón
      - lo que caiga

dialogs:


  #region Welcome Tests
  - name: bad_welcome_test_1
    initial_context: {}
    steps:
      - query: asdf
        response:
          correct: false
          confidence: 0.7
          intent: None

  - name: welcome_test_1
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
  
  - name: welcome_test_2
    initial_context: {}
    steps:
      - query: comenzar
        response:
          confidence: 0.7
          intent: welcome

  - name: welcome_test_3
    initial_context: {}
    steps:
      - query: empezar
        response:
          confidence: 0.7
          intent: welcome
          
  - name: welcome_test_4
    initial_context: {}
    steps:
      - query: hola
        response:
          confidence: 0.7
          intent: welcome
  
  - name: welcome_test_5
    initial_context: {}
    steps:
      - query: buenas
        response:
          confidence: 0.7
          intent: welcome
          
  - name: welcome_test_6
    initial_context: {}
    steps:
      - query: buenos dias
        response:
          confidence: 0.7
          intent: welcome

  - name: welcome_test_7
    initial_context: {}
    steps:
      - query: hola
        response:
          confidence: 0.7
          intent: welcome

  #endregion

  
  #region onboarding Tests

  - name: bad_onboarding_test_1
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: asd
        response:
          correct: false
          confidence: 0.7
          intent: onboarding
  - name: onboarding_test_1
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: vamos alla
        response:
          confidence: 0.7
          intent: onboarding

  - name: onboarding_test_2
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: vamos
        response:
          confidence: 0.7
          intent: onboarding

  #endregion
              
  #region Extreme Chat Tests
  
  #1 Test de entrada: testea que no acepta 0 cm como respuesta de altura
  - name: extreme_test_1
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '0'
        response:
          correct: false
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '0'
              confidence: 0.7
      - query: '170'
        response:
          correct: true
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '170'
              confidence: 0.7
  
  #2 Testea que existe rango de valores min + max en la 1ra parte del onboarding + "no soy vegano"
  - name: extreme_test_2
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '0'
        response:
          correct: false
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '0'
              confidence: 0.7
      - query: '300'
        response:
          correct: false
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '300'
              confidence: 0.7
      - query: '170'
        response:
          correct: true
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '170'
              confidence: 0.7
      - query: '0'
        response:
          correct: false
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '0'
              confidence: 0.7
      - query: '1000'
        response:
          correct: false
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '1000'
              confidence: 0.7
      - query: '70'
        response:
          correct: true
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '70'
              confidence: 0.7
      - query: '0'
        response:
          correct: false
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '0'
              confidence: 0.7
      - query: '500'
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '500'
              confidence: 0.7
      - query: '70'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '70'
              confidence: 0.7
      - query: '0'
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '0'
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna de estas
              confidence: 0.7

      - query: '500'
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '500'
              confidence: 0.7
      - query: '100'
        response:
          confidence: 0.7
          correct: true
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '100'
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna de estas
              confidence: 0.7

  #3 Testea que no se acepten metros como altura
  - name: extreme_test_3
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: 1,7 metros
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '1.7'
              confidence: 0.7
      - query: 1,7 m
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '1.7'
              confidence: 0.7
      - query: '180'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '180'
              confidence: 0.7

  #4 Testea que no se acepten libras (libreas + lb) como medida peso
  - name: extreme_test_4
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '180'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '180'
              confidence: 0.7
      - query: 150 libras
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
      - query: 150 lb
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition

  #5 Testea reconocimiento de decimales + kg
  - name: extreme_test_5
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: 170,302 kg
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '170.302'
              confidence: 0.7



  #9 Testea que se acepte el peso con el numero +kg junto
  - name: extreme_test_9
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '180'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '180'
              confidence: 0.7
      - query: 100kg
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-currency
              value: '150'
              confidence: 0.7

  #10 Testea que se acepte el peso con el numero + kilogramos
  - name: extreme_test_10
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '180'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '180'
              confidence: 0.7
      - query: 100 kilogramos
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-currency
              value: '150'
              confidence: 0.7

  #11 Testea los rangos de ingesta de agua y si admite decimales
  - name: extreme_test_11
    initial_context: {}
    steps:
      - query: registrar agua
        response:
          confidence: 0.7
          intent: Registrar_agua
          entities:
            - name: alimento_tipo
              value: agua
              confidence: 0.7
      - query: '5'
        response:
          confidence: 0.7
          correct: true
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '5'
              confidence: 0.7
      - query: registrar agua
        response:
          confidence: 0.7
          intent: Registrar_agua
          entities:
            - name: alimento_tipo
              value: agua
              confidence: 0.7
      - query: '100000000'
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '100000000'
              confidence: 0.7
      - query: registrar agua
        response:
          confidence: 0.7
          intent: Registrar_agua
          entities:
            - name: alimento_tipo
              value: agua
              confidence: 0.7
      - query: '-99'
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '-99'
              confidence: 0.7
      - query: '0.5'
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '0.5'
              confidence: 0.7
  
  #12 Test de texto sin sentido
  - name: extreme_test_12
    initial_context: {}
    steps:
      - query: Texto sin sentido
        response:
          confidence: 0.7
          correct: false
          intent: faq_solo_texto
      - query: Texto sin sentido
        response:
          confidence: 0.7
          correct: false
          intent: entity_recognition
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
      - query: comenzar
        response:
          confidence: 0.7
          intent: welcome
  
  - name: extreme_test_13
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: Texto sin sentido
        response:
          confidence: 0.7
          correct: false
          intent: faq_solo_texto
      - query: ¡Adelante!
        response:
          confidence: 0.7
          correct: true
          intent: onboarding

  - name: extreme_test_14
    initial_context: {}
    steps:
      - query: registrar agua
        response:
          confidence: 0.7
          intent: Registrar_agua
          entities:
            - name: alimento_tipo
              value: agua
              confidence: 0.7
      - query: Texto sin sentido
        response:
          confidence: 0.7
          correct: false
          intent: faq_solo_texto
      - query: Texto sin sentido
        response:
          confidence: 0.7
          correct: false
          intent: faq_solo_texto

  #endregion

  #region Normal Chat Tests
  - name: normal_test_1
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: vamos
        response:
          confidence: 0.7
          intent: onboarding
      - query: '170'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '170'
              confidence: 0.7

  #2 Testea una conversación de 1ra fase con respuestas coerentes y variadas
  - name: normal_test_2
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '180'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '180'
              confidence: 0.7
      - query: 100 kg
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '100'
              confidence: 0.7
      - query: '60'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '60'
              confidence: 0.7
      - query: '70'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '70'
              confidence: 0.7
      - query: '80'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '80'
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: si
        response:
          confidence: 0.7
          intent: faq_opinion_mas
          entities:
            - name: bool
              value: Si
              confidence: 0.7
      - query: intolerancia a la lactosa
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: alergia
              value: Leche
              confidence: 0.7
            - name: alimento_tipo
              value: Lactosa
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: si, tengo diabetes tipo 2
        response:
          confidence: 0.7
          intent: faq_restricciones_medicas_dieta
          entities:
            - name: bool
              value: Si
              confidence: 0.7
            - name: enfermedad
              value: Diabetes mellitus tipo 2
              confidence: 0.7
            - name: sys-number
              value: '2'
              confidence: 0.7
      - query: tambien tengo osteoporosis
        response:
          confidence: 0.4
          intent: faq_restricciones_medicas_dieta
          entities:
            - name: enfermedad
              value: Osteoporosis
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: si
        response:
          confidence: 0.7
          intent: faq_opinion_mas
          entities:
            - name: bool
              value: Si
              confidence: 0.7
      - query: no, soy hombre
        response:
          confidence: 0.4
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: si
        response:
          confidence: 0.7
          intent: faq_opinion_mas
          entities:
            - name: bool
              value: Si
              confidence: 0.7
      - query: no demasiado
        response:
          confidence: 0.4
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: muy poco
        response:
          correct: true
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: bool
              value: Si
              confidence: 0.7

  #3 Conversacion normal de 1ra fase
  - name: normal_test_3
    initial_context: {}
    steps:
      - query: ¡Comenzar!
        response:
          confidence: 0.7
          intent: welcome
      - query: hacer onboarding
        response:
          confidence: 0.7
          intent: onboarding
      - query: '180'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '180'
              confidence: 0.7
      - query: '70'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '70'
              confidence: 0.7
      - query: '60'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '60'
              confidence: 0.7
      - query: '80'
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '80'
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
      - query: si
        response:
          confidence: 0.7
          intent: faq_opinion_mas
          entities:
            - name: bool
              value: Si
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7
  
  - name: normal_test_4
    initial_context: {}
    steps:
      - query: Registar una ingesta
        response:
          confidence: 0.7
          intent: Registrar_ingesta
          entities:
            - name: sys-number
              value: '1'
              confidence: 0.7
      - query: hoy para cenar
        response:
          confidence: 0.11
          intent: Registrar_ingesta
          entities:
            - name: sys-date
              value: '2022-08-03'
              confidence: 0.7
            - name: toma
              value: cena
              confidence: 0.7

  - name: normal_test_5
    initial_context: {}
    steps:
      - query: Registar una ingesta
        response:
          confidence: 0.7
          intent: Registrar_ingesta
          entities:
            - name: sys-number
              value: '1'
              confidence: 0.7
      - query: comí un pollo el 8/3/2022 para cenar
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: sys-number
              value: '1'
              confidence: 0.7
            - name: alimento_tipo
              value: Pollo, pechuga, plancha
              confidence: 0.7
            - name: sys-date
              value: '2022-03-08'
              confidence: 0.7
            - name: toma
              value: cena
              confidence: 0.7
      - query: unidad
        response:
          confidence: 0.7
          intent: entity_recognition
          entities:
            - name: alimento_unidad
              value: unidad
              confidence: 0.7
      - query: 'no'
        response:
          confidence: 0.7
          intent: faq_opinion_finalizar
          entities:
            - name: estados_fisiologicos
              value: No, ninguna
              confidence: 0.7
            - name: tipo_dieta
              value: No, mi dieta no tiene ninguna particularidad
              confidence: 0.7
            - name: bool
              value: 'No'
              confidence: 0.7
            - name: enfermedad
              value: Ninguna
              confidence: 0.7

#✗ test for dialog 'normal_test_4' failed: error: "intent" doesn't match, Got: Registrar_ingesta and expected entity_recognition. In step 1 with query 'hoy para cenar'

  #endregion

  


